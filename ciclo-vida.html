<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>üå± Ciclo da Vida</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f1f8e9;
      text-align: center;
      padding: 20px;
    }

    h1 {
      color: #33691e;
    }

    .btn {
      margin: 10px;
      padding: 10px 20px;
      background-color: #558b2f;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }

    .btn:hover {
      background-color: #33691e;
    }

    .ciclo {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      gap: 10px;
    }

    .etapa {
      background-color: #c5e1a5;
      padding: 10px 15px;
      border: 2px solid #558b2f;
      border-radius: 8px;
      cursor: move;
      font-size: 16px;
      user-select: none;
    }

    .resposta {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .slot {
      background-color: #e8f5e9;
      border: 2px dashed #a5d6a7;
      width: 120px;
      height: 40px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .slot.filled {
      border-style: solid;
    }

    #resultadoFinal {
      margin-top: 30px;
      font-size: 20px;
      color: #33691e;
    }

    #feedback {
      margin: 15px auto;
      font-size: 18px;
      font-weight: bold;
      color: #33691e;
    }

    .erro {
      color: #c62828;
    }

    .acerto {
      color: #2e7d32;
    }
  </style>
</head>
<body>

  <h1>üå± Ciclo da Vida</h1>
  <p>Arraste as etapas para formar o ciclo correto!</p>

  <div id="jogoContainer"></div>

  <div>
    <button class="btn" onclick="iniciarJogo()">üîÅ Jogar Novamente</button>
    <button class="btn" onclick="location.href='ciencias.html'">üîô Voltar</button>
  </div>

  <div id="resultadoFinal"></div>

  <script>
    const bancoCiclos = [
      ["Ovo", "Pintinho", "Galinha"],
      ["Semente", "Broto", "Planta"],
      ["Lagarta", "Casulo", "Borboleta"],
      ["Filhote", "Jovem", "Adulto"],
      ["Girino", "Sapo Jovem", "Sapo Adulto"],
      ["Germinante", "Muda", "√Årvore"],
      ["Ovo", "Larva", "Mosca"],
      ["Bot√£o", "Flor", "Fruto"],
      ["Semente", "Raiz", "Caule"],
      ["Ovo", "Ninfa", "Gafanhoto Adulto"],
      ["Broto", "Folha", "Flor"],
      ["Coco", "Palmeira Jovem", "Palmeira"],
      ["Gengibre", "Broto", "Gengibre Adulto"],
      ["Ovo", "Tartaruguinha", "Tartaruga"],
      ["Caracolzinho", "Juvenil", "Caracol Adulto"],
      ["Embri√£o", "Feto", "Beb√™"],
      ["Larva", "Pupa", "Besouro"],
      ["Ovo", "Filhote", "Peixe"],
      ["Ovo", "Filhote", "Jacar√©"],
      ["Semente", "Broto", "Girassol"],
      ["Germina√ß√£o", "Crescimento", "Flora√ß√£o"],
      ["Esporo", "Crescimento", "Fungo Adulto"],
      ["Folha", "Flor", "Fruto"],
      ["Inseto Jovem", "Casulo", "Mariposa"],
      ["Ovo", "Ninfa", "Barata"],
      ["Flor", "Fruto", "Semente"],
      ["Crescimento", "Flora√ß√£o", "Frutifica√ß√£o"],
      ["Nascente", "Riacho", "Rio"],
      ["Formiga Ovo", "Formiga Jovem", "Formiga Rainha"],
      ["Abelha Ovo", "Abelha Jovem", "Abelha Rainha"],
      ["Tubar√£o Beb√™", "Tubar√£o Jovem", "Tubar√£o Adulto"],
      ["Urso Beb√™", "Urso Jovem", "Urso Adulto"],
      ["Cachorro Filhote", "Cachorro Jovem", "Cachorro Adulto"],
      ["Gato Filhote", "Gato Jovem", "Gato Adulto"],
      ["Ovo", "Girino", "R√£"],
      ["Ovo", "Pintinho", "Frango"],
      ["Semente", "Caule", "Flor"],
      ["Broto", "Caule", "Folha"],
      ["Ovo", "Filhote", "√Åguia"],
      ["Germina√ß√£o", "Desenvolvimento", "Flor"],
      ["Casulo", "Mariposa Jovem", "Mariposa"],
      ["Flor", "Poliniza√ß√£o", "Fruto"],
      ["Semente", "√Årvore", "Ma√ß√£"],
      ["Bot√£o", "Desabrochar", "Flor Aberta"],
      ["Pulga Ovo", "Pulga Jovem", "Pulga Adulta"],
      ["Broto", "Folhagem", "√Årvore Frondosa"],
      ["Ovo", "Larva", "Borboleta"],
      ["Semente", "Germina√ß√£o", "Folhagem"],
      ["Ovo", "Peixe Jovem", "Peixe Adulto"],
      ["Semente", "Raiz", "Folha"]
    ];

    let ciclosRodada = [];
    let etapaAtual = 0;
    let acertos = 0;

    function iniciarJogo() {
      document.getElementById('resultadoFinal').innerHTML = "";
      const container = document.getElementById("jogoContainer");
      container.innerHTML = "";
      etapaAtual = 0;
      acertos = 0;
      ciclosRodada = bancoCiclos.sort(() => 0.5 - Math.random()).slice(0, 10);
      mostrarProximoCiclo();
    }

    function mostrarProximoCiclo() {
      const container = document.getElementById("jogoContainer");
      container.innerHTML = "";

      if (etapaAtual >= ciclosRodada.length) {
        mostrarResultado();
        return;
      }

      const ciclo = ciclosRodada[etapaAtual];
      const embaralhado = [...ciclo].sort(() => 0.5 - Math.random());

      const divCiclo = document.createElement("div");
      divCiclo.className = "ciclo";
      embaralhado.forEach(etapa => {
        const elem = document.createElement("div");
        elem.className = "etapa";
        elem.draggable = true;
        elem.textContent = etapa;
        elem.addEventListener("dragstart", e => {
          e.dataTransfer.setData("text", etapa);
        });
        divCiclo.appendChild(elem);
      });

      const resposta = document.createElement("div");
      resposta.className = "resposta";
      ciclo.forEach(() => {
        const slot = document.createElement("div");
        slot.className = "slot";
        slot.addEventListener("dragover", e => e.preventDefault());
        slot.addEventListener("drop", e => {
          e.preventDefault();
          if (slot.classList.contains("filled")) return;
          const data = e.dataTransfer.getData("text");
          slot.textContent = data;
          slot.classList.add("filled");
        });
        resposta.appendChild(slot);
      });

      const feedback = document.createElement("div");
      feedback.id = "feedback";

      const btnVerificar = document.createElement("button");
      btnVerificar.className = "btn";
      btnVerificar.textContent = "Verificar";
      btnVerificar.onclick = () => {
        const slots = resposta.querySelectorAll(".slot");
        const respostaUsuario = [...slots].map(s => s.textContent.trim());
        const correta = ciclo.join(" ‚Üí ");
        const usuario = respostaUsuario.join(" ‚Üí ");

        if (respostaUsuario.includes("") || respostaUsuario.length !== ciclo.length) {
          feedback.textContent = "Preencha todos os campos!";
          feedback.className = "erro";
          return;
        }

        if (JSON.stringify(respostaUsuario) === JSON.stringify(ciclo)) {
          acertos++;
          feedback.textContent = "‚úÖ Muito bem! Voc√™ acertou!";
          feedback.className = "acerto";
        } else {
          feedback.innerHTML = `‚ùå Errou! <br>Sua resposta: ${usuario}<br>Correta: ${correta}`;
          feedback.className = "erro";
        }

        btnVerificar.disabled = true;

        const btnProximo = document.createElement("button");
        btnProximo.className = "btn";
        btnProximo.textContent = "Pr√≥ximo";
        btnProximo.onclick = () => {
          etapaAtual++;
          mostrarProximoCiclo();
        };

        container.appendChild(feedback);
        container.appendChild(btnProximo);
      };

      container.appendChild(divCiclo);
      container.appendChild(resposta);
      container.appendChild(btnVerificar);
    }

    function mostrarResultado() {
      document.getElementById("resultadoFinal").innerHTML = `
        ‚úÖ Voc√™ acertou ${acertos} de 10 ciclos!
        <br><br>
        üå± Parab√©ns por estudar os ciclos da vida!
      `;
    }

    iniciarJogo();
  </script>

</body>
</html>
