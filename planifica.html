<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz de Formas Geométricas</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #f0f8ff;
      text-align: center;
      margin: 20px;
    }
    #quiz-container {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      display: inline-block;
      box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
      position: relative;
      overflow: hidden;
    }
    canvas {
      background: #e3f2fd;
      border-radius: 10px;
      margin-bottom: 15px;
    }
    .option-btn {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .option-btn:hover {
      background: #45a049;
    }
    #next-btn {
      margin-top: 20px;
      padding: 10px 25px;
      background: #2196F3;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      display: none;
    }
    #next-btn:hover {
      background: #0b7dda;
    }
    #result {
      font-size: 20px;
      margin-top: 20px;
    }
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #ffc107;
      animation: fall 2s infinite;
    }
    @keyframes fall {
      0% { transform: translateY(0) rotate(0deg); }
      100% { transform: translateY(600px) rotate(360deg); }
    }
  </style>
</head>
<body>

<div id="quiz-container">
  <canvas id="shapeCanvas" width="250" height="250"></canvas>
  <h2 id="question"></h2>
  <div id="options"></div>
  <button id="next-btn">Próxima</button>
  <div id="result"></div>
</div>

<script>
// Base de perguntas melhorada
const questions = [
  { shape: 'triangle', question: 'Quantos vértices tem esse triângulo?', options: ['3', '4', '5'], answer: '3' },
  { shape: 'square', question: 'Quantas arestas tem esse quadrado?', options: ['6', '4', '3'], answer: '4' },
  { shape: 'hexagon', question: 'Essa figura é um:', options: ['Pentágono', 'Hexágono', 'Octógono'], answer: 'Hexágono' },
  { shape: 'circle', question: 'Quantos vértices tem esse círculo?', options: ['0', '1', '2'], answer: '0' },
  { shape: 'rectangle', question: 'Essa figura é um:', options: ['Retângulo', 'Trapézio', 'Triângulo'], answer: 'Retângulo' },
  { shape: 'pentagon', question: 'Quantas arestas tem esse pentágono?', options: ['4', '5', '6'], answer: '5' },
  { shape: 'octagon', question: 'Quantos vértices tem esse octógono?', options: ['6', '8', '10'], answer: '8' },
  { shape: 'trapezoid', question: 'Essa figura é um:', options: ['Trapézio', 'Quadrado', 'Círculo'], answer: 'Trapézio' },
  { shape: 'parallelogram', question: 'Essa figura é um:', options: ['Retângulo', 'Paralelogramo', 'Pentágono'], answer: 'Paralelogramo' },
  { shape: 'rhombus', question: 'Essa figura é um:', options: ['Romboide', 'Rombo', 'Triângulo'], answer: 'Rombo' },
  { shape: 'star', question: 'Essa figura é uma:', options: ['Estrela', 'Hexágono', 'Pentágono'], answer: 'Estrela' },
  { shape: 'heart', question: 'Essa figura é um:', options: ['Coração', 'Círculo', 'Trapézio'], answer: 'Coração' },
  { shape: 'ellipse', question: 'Essa figura é uma:', options: ['Elipse', 'Círculo', 'Pentágono'], answer: 'Elipse' },
  { shape: 'semicircle', question: 'Essa figura é um:', options: ['Meio-círculo', 'Círculo', 'Trapézio'], answer: 'Meio-círculo' },
  { shape: 'heptagon', question: 'Essa figura é um:', options: ['Heptágono', 'Hexágono', 'Octógono'], answer: 'Heptágono' },
  { shape: 'nonagon', question: 'Essa figura é um:', options: ['Nonágono', 'Decágono', 'Pentágono'], answer: 'Nonágono' },
  { shape: 'decagon', question: 'Essa figura é um:', options: ['Decágono', 'Octógono', 'Hexágono'], answer: 'Decágono' },
  { shape: 'cube', question: 'Essa figura 3D é um:', options: ['Cubo', 'Pirâmide', 'Cone'], answer: 'Cubo' },
  { shape: 'pyramid', question: 'Essa figura 3D é uma:', options: ['Pirâmide', 'Esfera', 'Cone'], answer: 'Pirâmide' },
  { shape: 'cylinder', question: 'Essa figura 3D é um:', options: ['Cilindro', 'Cubo', 'Cone'], answer: 'Cilindro' }
];

let currentQuestion = 0;
let score = 0;

function drawShape(shape) {
  const canvas = document.getElementById('shapeCanvas');
  const ctx = canvas.getContext('2d');
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.fillStyle = "#4fc3f7";
  ctx.strokeStyle = "#0277bd";
  ctx.lineWidth = 3;
  ctx.beginPath();

  const centerX = canvas.width / 2;
  const centerY = canvas.height / 2;
  const size = 60;

  switch(shape) {
    case 'triangle':
      ctx.moveTo(centerX, centerY - size);
      ctx.lineTo(centerX - size, centerY + size);
      ctx.lineTo(centerX + size, centerY + size);
      ctx.closePath();
      break;
    case 'square':
      ctx.rect(centerX - size, centerY - size, size * 2, size * 2);
      break;
    case 'rectangle':
      ctx.rect(centerX - 80, centerY - 40, 160, 80);
      break;
    case 'pentagon':
      drawPolygon(ctx, centerX, centerY, size, 5);
      break;
    case 'hexagon':
      drawPolygon(ctx, centerX, centerY, size, 6);
      break;
    case 'octagon':
      drawPolygon(ctx, centerX, centerY, size, 8);
      break;
    case 'circle':
      ctx.arc(centerX, centerY, size, 0, Math.PI * 2);
      break;
    case 'trapezoid':
      ctx.moveTo(centerX - 50, centerY + 50);
      ctx.lineTo(centerX + 50, centerY + 50);
      ctx.lineTo(centerX + 30, centerY - 50);
      ctx.lineTo(centerX - 30, centerY - 50);
      ctx.closePath();
      break;
    case 'parallelogram':
      ctx.moveTo(centerX - 60, centerY + 40);
      ctx.lineTo(centerX + 40, centerY + 40);
      ctx.lineTo(centerX + 60, centerY - 40);
      ctx.lineTo(centerX - 40, centerY - 40);
      ctx.closePath();
      break;
    case 'rhombus':
      ctx.moveTo(centerX, centerY - size);
      ctx.lineTo(centerX + size, centerY);
      ctx.lineTo(centerX, centerY + size);
      ctx.lineTo(centerX - size, centerY);
      ctx.closePath();
      break;
    case 'star':
      drawStar(ctx, centerX, centerY, 5, size, size / 2);
      break;
    case 'heart':
      drawHeart(ctx, centerX, centerY, size);
      break;
    case 'ellipse':
      ctx.ellipse(centerX, centerY, 60, 40, 0, 0, Math.PI * 2);
      break;
    case 'semicircle':
      ctx.arc(centerX, centerY, size, Math.PI, 0, false);
      ctx.lineTo(centerX + size, centerY);
      ctx.lineTo(centerX - size, centerY);
      ctx.closePath();
      break;
    case 'heptagon':
      drawPolygon(ctx, centerX, centerY, size, 7);
      break;
    case 'nonagon':
      drawPolygon(ctx, centerX, centerY, size, 9);
      break;
    case 'decagon':
      drawPolygon(ctx, centerX, centerY, size, 10);
      break;
    case 'cube':
    case 'pyramid':
    case 'cylinder':
      ctx.arc(centerX, centerY, size, 0, Math.PI * 2);
      break;
  }
  ctx.fill();
  ctx.stroke();
}

function drawPolygon(ctx, centerX, centerY, radius, sides) {
  const angle = (2 * Math.PI) / sides;
  ctx.moveTo(centerX + radius * Math.cos(0), centerY + radius * Math.sin(0));
  for (let i = 1; i <= sides; i++) {
    ctx.lineTo(centerX + radius * Math.cos(i * angle), centerY + radius * Math.sin(i * angle));
  }
  ctx.closePath();
}

function drawStar(ctx, cx, cy, spikes, outerRadius, innerRadius) {
  let rot = Math.PI / 2 * 3;
  let x = cx;
  let y = cy;
  const step = Math.PI / spikes;
  ctx.moveTo(cx, cy - outerRadius);
  for (let i = 0; i < spikes; i++) {
    x = cx + Math.cos(rot) * outerRadius;
    y = cy + Math.sin(rot) * outerRadius;
    ctx.lineTo(x, y);
    rot += step;

    x = cx + Math.cos(rot) * innerRadius;
    y = cy + Math.sin(rot) * innerRadius;
    ctx.lineTo(x, y);
    rot += step;
  }
  ctx.lineTo(cx, cy - outerRadius);
  ctx.closePath();
}

function drawHeart(ctx, x, y, size) {
  ctx.moveTo(x, y);
  ctx.bezierCurveTo(x, y - size / 2, x - size, y - size / 2, x - size, y);
  ctx.bezierCurveTo(x - size, y + size, x, y + size * 1.5, x, y + size * 2);
  ctx.bezierCurveTo(x, y + size * 1.5, x + size, y + size, x + size, y);
  ctx.bezierCurveTo(x + size, y - size / 2, x, y - size / 2, x, y);
}

function loadQuestion() {
  drawShape(questions[currentQuestion].shape);
  document.getElementById('question').textContent = questions[currentQuestion].question;
  const optionsDiv = document.getElementById('options');
  optionsDiv.innerHTML = "";

  questions[currentQuestion].options.forEach(option => {
    const button = document.createElement('button');
    button.className = 'option-btn';
    button.textContent = option;
    button.onclick = () => checkAnswer(option);
    optionsDiv.appendChild(button);
  });
}

function checkAnswer(selectedOption) {
  const correct = questions[currentQuestion].answer;
  if (selectedOption === correct) {
    score++;
  }
  document.getElementById('next-btn').style.display = 'inline-block';
}

document.getElementById('next-btn').addEventListener('click', () => {
  currentQuestion++;
  if (currentQuestion < questions.length) {
    document.getElementById('next-btn').style.display = 'none';
    loadQuestion();
  } else {
    showResult();
  }
});

function showResult() {
  const container = document.getElementById('quiz-container');
  container.innerHTML = `
    <h2>Fim do Jogo!</h2>
    <p>Sua Pontuação: ${score}/${questions.length}</p>
    <button onclick="location.reload()" style="padding: 10px 20px; font-size: 16px; margin-top: 20px;">Jogar Novamente</button>
  `;
  if (score === questions.length) {
    celebrate();
  }
}

function celebrate() {
  for (let i = 0; i < 100; i++) {
    const confetti = document.createElement('div');
    confetti.className = 'confetti';
    confetti.style.left = Math.random() * window.innerWidth + 'px';
    confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 70%)`;
    confetti.style.animationDuration = 2 + Math.random() * 3 + 's';
    document.body.appendChild(confetti);

    setTimeout(() => confetti.remove(), 5000);
  }
}

// Inicializar
loadQuestion();
</script>

</body>
</html>
